#:schema node_modules/wrangler/config-schema.json
name = "hoopadvisors"
main = "./index.js"
compatibility_date = "2024-10-11"
assets = { directory = "./public" }

[vars]
SECRET_KEY = "qz+/vZ3ZBxC3aAZ4a5brJuimOaJUVbsq825PVb/ZprI="
ACCESS_CODE = "b@ll"

[[durable_objects.bindings]]
name = "WEBSOCKET_SERVER"
class_name = "WebsocketServer"

[[durable_objects.bindings]]
name = "GAME_SERVER"
class_name = "GameServer"

[[migrations]]
tag = "v1"
new_classes = ["Server"]

[[migrations]]
tag = "v2"
renamed_classes = [{from = "Server", to = "WebsocketServer" }]
new_classes = ["GameServer"]

[observability]
enabled = true

[[services]]
binding = "scheduler"
service = "hoopadvisors-scheduler"